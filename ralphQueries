CREATE TABLE [users] (
  [uid] INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
  [firstName] nvarchar(255),
  [lastName] nvarchar(255),
  [userName] nvarchar(255),
  [password] nvarchar(255)
)
GO

CREATE TABLE [systems] (
  [uid] INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
  [name] nvarchar(255),
  [rvTotalSize] float,
  [lBandSize] float,
  [sBandSize] float
)
GO

CREATE TABLE [filters] (
  [uid] INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
  [launchCountry] nvarchar(255),
  [launchLocation] nvarchar(255),
  [launchTime] dateTime
)
GO

CREATE TABLE [trajectories] (
  [uid] INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
  [systemID] int FOREIGN KEY REFERENCES systems(uid),
  [name] nvarchar(255),
  [launchTime] datetime,
  [launchName] nvarchar(255),
  [launchLocation] float
)
GO

CREATE TABLE [downloads] (
  [uid] INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
  [trajectoryID] int FOREIGN KEY REFERENCES trajectories(uid),
  [systemID] int FOREIGN KEY REFERENCES systems(uid),
  [downloadSize] float,
  [downloadTime] dateTime
)
GO



CREATE TABLE [searches] (
  [uid] INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
  [filterID] int FOREIGN KEY REFERENCES filters(uid),
  [keywords] nvarchar(255)
)
GO

CREATE TABLE [userSessions] (
  [uid] INT NOT NULL IDENTITY(1,1) PRIMARY KEY,
  [downloadID] int FOREIGN KEY REFERENCES downloads(uid),
  [searchID] int FOREIGN KEY REFERENCES searches(uid),
  [userID] int FOREIGN KEY REFERENCES users(uid),
  [timeStart] datetime,
  [timeEnd] datetime,
  [ipAddress] nvarchar(255)
)
GO

